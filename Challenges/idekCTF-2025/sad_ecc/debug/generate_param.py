from sage.all import *
from Crypto.Util.number import *

p = getPrime(1024)
q = getPrime(1024)

n = p * q
# p = 127817636923196228219444008889861284710851589929418364744873337794279444534128200044408294807733201866606880313791586198659412913887181013156565595553876305151870669207206851198827910379901820429235001727427310519751607708038310247004467983622620061177248739071436861539466521036695807909553006617453469343467
# q = 144447401251931183599629235631807945230095408127491635812094681593025535206494820427166772435988004980940225885063335691051682681540328478186261016655799672405752157803329888918679336972720322964409107202021360774733594857450937236173755682890725596712767743842388353269700585333058090651202138770753549594259
# n = 18462925487718580334270042594143977219610425117899940337155124026128371741308753433204240210795227010717937541232846792104611962766611611163876559160422428966906186397821598025933872438955725823904587695009410689230415635161754603680035967278877313283697377952334244199935763429714549639256865992874516173501812823285781745993930473682283430062179323232132574582638414763651749680222672408397689569117233599147511410313171491361805303193358817974658401842269098694647226354547005971868845012340264871645065372049483020435661973539128701921925288361298815876347017295555593466546029673585316558973730767171452962355953

pari.addprimes([p, q])

# y^3 = x^2 = t^6 => y = t^2, x = t^3
while True:
    try:
        y = randint(1, n)
        y3 = pow(y - 1337, 3, n)
        t = Zmod(n)(y3).nth_root(6)
        assert t**2 + 1337 == y
        print(f"x = {t**3}")
        print(f"{y = }")
        break
    except:
        continue