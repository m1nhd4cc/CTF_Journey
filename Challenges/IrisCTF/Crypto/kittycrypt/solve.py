# import json

# # Báº£ng Ã¡nh xáº¡ emoji -> hex
# CharSet = {
#     "ðŸ±": "0", "ðŸˆ": "1", "ðŸ˜¸": "2", "ðŸ˜¹": "3",
#     "ðŸ˜º": "4", "ðŸ˜»": "5", "ðŸ˜¼": "6", "ðŸ˜½": "7",
#     "ðŸ˜¾": "8", "ðŸ˜¿": "9", "ðŸ™€": "A", "ðŸ±ðŸ‘¤": "B",
#     "ðŸ±ðŸ": "C", "ðŸ±ðŸ’»": "D", "ðŸ±ðŸ‘“": "E", "ðŸ±ðŸš€": "F"
# }

# # HÃ m lÃ m sáº¡ch chuá»—i emoji (loáº¡i bá» kÃ½ tá»± khÃ´ng cáº§n thiáº¿t)
# def clean_emoji(text):
#     return text.replace('\u200d', '')  # Loáº¡i bá» kÃ½ tá»± ZWJ

# # HÃ m chuyá»ƒn emoji -> hex
# def emojis_to_hex(emoji_text):
#     emoji_text = clean_emoji(emoji_text)  # LÃ m sáº¡ch chuá»—i emoji
#     hex_text = ""
#     i = 0
#     while i < len(emoji_text):
#         # Kiá»ƒm tra cÃ¡c emoji dÃ i (2 kÃ½ tá»±)
#         if i + 1 < len(emoji_text) and emoji_text[i:i+2] in CharSet:
#             hex_text += CharSet[emoji_text[i:i+2]]
#             i += 2
#         # Kiá»ƒm tra cÃ¡c emoji ngáº¯n (1 kÃ½ tá»±)
#         elif emoji_text[i] in CharSet:
#             hex_text += CharSet[emoji_text[i]]
#             i += 1
#         else:
#             raise ValueError(f"Emoji khÃ´ng xÃ¡c Ä‘á»‹nh: {emoji_text[i:i+2]}")
#     return hex_text

# # Äá»c dá»¯ liá»‡u tá»« file
# with open("example_input.txt", "r") as f:
#     example_input = f.read().strip()

# with open("example_output.txt", "r") as f:
#     example_output = f.read().strip()

# with open("flag_output.txt", "r") as f:
#     flag_output = f.read().strip()

# # TÃ­nh toÃ¡n key
# example_hex = emojis_to_hex(example_output)
# example_keyed_text = bytes.fromhex(example_hex).decode()

# keys = [ord(example_keyed_text[i]) - ord(example_input[i]) for i in range(len(example_input))]

# # Giáº£i mÃ£ flag
# flag_hex = emojis_to_hex(flag_output)
# flag_keyed_text = bytes.fromhex(flag_hex).decode()

# decoded_flag = "".join([chr(ord(flag_keyed_text[i]) - keys[i % len(keys)]) for i in range(len(flag_keyed_text))])

# print("Flag:", decoded_flag)



cs = {
    "ðŸ±â€ðŸ‘¤": 'B',
    "ðŸ±â€ðŸ": 'C', "ðŸ±â€ðŸ’»": 'D', "ðŸ±â€ðŸ‘“": 'E', "ðŸ±â€ðŸš€": 'F',
    "ðŸ±": '0', "ðŸˆ": '1', "ðŸ˜¸": '2', "ðŸ˜¹": '3',
    "ðŸ˜º": '4', "ðŸ˜»": '5', "ðŸ˜¼": '6', "ðŸ˜½": '7',
    "ðŸ˜¾": '8', "ðŸ˜¿": '9', "ðŸ™€": 'A'
}

cs_inv = {v: k for k, v in cs.items()}

example_input = "You fools! You will never get my catnip!!!!!!!"
example_out = "ðŸ±â€ðŸ’»ðŸ˜¸ðŸ˜¿ðŸ˜¼ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¾ðŸ˜¿ðŸ™€ðŸ±â€ðŸ’»ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¿ðŸ˜¹ðŸ˜¿ðŸ±â€ðŸ’»ðŸ±â€ðŸ‘“ðŸ±ðŸ±â€ðŸ‘¤ðŸ˜¹ðŸ˜¿ðŸ˜ºðŸ±â€ðŸ‘“ðŸ˜¹ðŸ™€ðŸ˜¿ðŸ˜¾ðŸ±â€ðŸðŸ±â€ðŸ‘“ðŸ˜¹ðŸ˜¾ðŸ±â€ðŸš€ðŸ±â€ðŸ‘¤ðŸ˜¾ðŸ±â€ðŸ’»ðŸ±â€ðŸ‘“ðŸ˜¿ðŸ˜½ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¾ðŸ±â€ðŸ‘¤ðŸ™€ðŸ˜»ðŸ±â€ðŸ‘“ðŸ˜¸ðŸ™€ðŸ˜¼ðŸ±â€ðŸ‘¤ðŸˆðŸ±â€ðŸ‘“ðŸ˜ºðŸ±â€ðŸ‘¤ðŸ˜¼ðŸ˜¿ðŸ˜¾ðŸ±â€ðŸ‘“ðŸˆðŸ˜¿ðŸ˜½ðŸ™€ðŸ±â€ðŸš€ðŸ±â€ðŸ‘“ðŸ˜¹ðŸ˜¾ðŸ˜¹ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘“ðŸ˜¹ðŸ™€ðŸ±ðŸ±â€ðŸ‘¤ðŸ˜¾ðŸ±â€ðŸ‘“ðŸ±ðŸ™€ðŸ˜½ðŸ˜¿ðŸ˜»ðŸ±â€ðŸ‘“ðŸ˜¹ðŸ±â€ðŸ‘¤ðŸ±ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘“ðŸˆðŸ˜¾ðŸ˜½ðŸ˜¿ðŸ±â€ðŸ’»ðŸ±â€ðŸ‘“ðŸˆðŸ™€ðŸ±â€ðŸ‘“ðŸ˜¿ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘“ðŸ˜¹ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘¤ðŸ˜¾ðŸ±â€ðŸðŸ±â€ðŸ‘“ðŸˆðŸ±â€ðŸ‘¤ðŸ±ðŸ˜¿ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘“ðŸ˜¸ðŸ˜¾ðŸ˜¿ðŸ±â€ðŸ‘¤ðŸ˜¾ðŸ±â€ðŸ’»ðŸ±â€ðŸðŸ˜¿ðŸ™€ðŸ±â€ðŸ‘“ðŸ˜¸ðŸ˜¾ðŸ™€ðŸ™€ðŸ±ðŸ±â€ðŸ‘“ðŸ˜¸ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘“ðŸ™€ðŸ±â€ðŸ‘“ðŸ±â€ðŸ‘“ðŸ±ðŸ™€ðŸ™€ðŸ˜¾ðŸ˜ºðŸ±â€ðŸ‘“ðŸ˜ºðŸ™€ðŸ˜½ðŸ˜¿ðŸ˜¸ðŸ±â€ðŸ‘“ðŸ˜¸ðŸ±â€ðŸ‘¤ðŸ˜¾ðŸ™€ðŸˆðŸ±â€ðŸ‘“ðŸ˜ºðŸ™€ðŸ˜¼ðŸ™€ðŸ˜¼ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¿ðŸ˜¿ðŸ˜¿ðŸ˜¿ðŸ±â€ðŸðŸ˜¿ðŸ˜¾ðŸ±â€ðŸ‘“ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¿ðŸ˜½ðŸ˜¿ðŸ±â€ðŸðŸ±â€ðŸ‘“ðŸˆðŸ˜¾ðŸˆðŸ˜¿ðŸ˜¹ðŸ±â€ðŸ’»ðŸ˜¸ðŸ±â€ðŸ‘¤ðŸ˜¹ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¿ðŸ±â€ðŸ‘“ðŸ™€ðŸ±ðŸ±â€ðŸ‘“ðŸ˜ºðŸ™€ðŸ±â€ðŸ‘¤ðŸ˜¾ðŸ±â€ðŸðŸ±â€ðŸ‘“ðŸ˜¹ðŸ±â€ðŸ‘¤ðŸ˜¸ðŸ™€ðŸ±â€ðŸðŸ±â€ðŸ‘“ðŸ˜¹ðŸ±â€ðŸ‘¤ðŸ˜¼ðŸ±â€ðŸ‘¤ðŸ˜¾ðŸ±â€ðŸ‘“ðŸ±ðŸ™€ðŸˆðŸ±â€ðŸ‘¤ðŸˆðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¿ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘¤ðŸ˜½ðŸ±â€ðŸ‘“ðŸ˜¸ðŸ±â€ðŸ‘¤ðŸˆðŸ±â€ðŸ‘¤ðŸ±â€ðŸš€ðŸ±â€ðŸ‘“ðŸ˜ºðŸ±â€ðŸ‘¤ðŸ˜½ðŸ™€ðŸ˜¿ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¿ðŸ±â€ðŸ’»ðŸ™€ðŸ˜¿ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¾ðŸ±â€ðŸ‘¤ðŸ˜¿ðŸ±â€ðŸš€ðŸ±â€ðŸ‘“ðŸ˜¸ðŸ™€ðŸ±â€ðŸðŸ±â€ðŸ‘¤ðŸ˜»ðŸ±â€ðŸ‘“ðŸ˜¸ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ’»ðŸ±â€ðŸ‘¤ðŸ˜¾ðŸ±â€ðŸ‘“ðŸ˜¹ðŸ˜¿ðŸ˜»ðŸ™€ðŸ±â€ðŸš€ðŸ±â€ðŸ‘“ðŸ˜¹ðŸ˜¿ðŸ˜¿ðŸ˜¿ðŸ˜¿"
flag_out = "ðŸ±â€ðŸ’»ðŸ˜¸ðŸ™€ðŸ˜¼ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¾ðŸ˜¿ðŸ±â€ðŸ‘¤ðŸ±ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¿ðŸ˜¹ðŸ˜¿ðŸˆðŸ±â€ðŸ‘“ðŸ±ðŸ±â€ðŸ‘¤ðŸ˜ºðŸ™€ðŸ˜½ðŸ±â€ðŸ‘“ðŸ˜¹ðŸ™€ðŸ˜¿ðŸ˜¾ðŸ˜¿ðŸ±â€ðŸ‘“ðŸ˜¹ðŸ˜¾ðŸ±â€ðŸš€ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ’»ðŸ±â€ðŸ’»ðŸ±â€ðŸ‘“ðŸ˜¾ðŸ±â€ðŸ‘“ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¾ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘¤ðŸ˜ºðŸ±â€ðŸ‘“ðŸ˜¸ðŸ™€ðŸ˜¼ðŸ±â€ðŸ‘¤ðŸˆðŸ±â€ðŸ‘“ðŸ˜ºðŸ±â€ðŸ‘¤ðŸ˜¼ðŸ™€ðŸ˜½ðŸ±â€ðŸ‘“ðŸˆðŸ˜¿ðŸ˜¾ðŸ±â€ðŸ‘¤ðŸ±â€ðŸðŸ±â€ðŸ‘“ðŸ˜¹ðŸ˜¾ðŸ˜¹ðŸ˜¿ðŸ˜»ðŸ±â€ðŸ‘“ðŸ˜¹ðŸ™€ðŸ±ðŸ˜¾ðŸ±ðŸ±â€ðŸ‘“ðŸ±ðŸ™€ðŸ˜¼ðŸ˜¿ðŸˆðŸ±â€ðŸ‘“ðŸ˜¹ðŸ±â€ðŸ‘¤ðŸ˜¸ðŸ˜¾ðŸ˜¾ðŸ±â€ðŸ‘“ðŸˆðŸ˜¾ðŸ˜¼ðŸ˜¿ðŸ˜¿ðŸ±â€ðŸ‘“ðŸˆðŸ™€ðŸ±â€ðŸ‘“ðŸ™€ðŸ˜»ðŸ±â€ðŸ‘“ðŸ˜¹ðŸ±â€ðŸ‘¤ðŸ™€ðŸ±â€ðŸ‘¤ðŸ±â€ðŸš€ðŸ±â€ðŸ‘“ðŸˆðŸ±â€ðŸ‘¤ðŸ±ðŸ˜¿ðŸˆðŸ±â€ðŸ‘“ðŸ˜¸ðŸ˜¾ðŸ™€ðŸ±â€ðŸ‘¤ðŸˆðŸ±â€ðŸ’»ðŸ±â€ðŸ‘¤ðŸ™€ðŸ˜¹ðŸ±â€ðŸ‘“ðŸ˜¸ðŸ˜¾ðŸ˜¿ðŸ™€ðŸ±â€ðŸ‘“ðŸ±â€ðŸ‘“ðŸ˜¸ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ’»ðŸ™€ðŸ±â€ðŸ’»ðŸ±â€ðŸ‘“ðŸ±ðŸ™€ðŸ˜¿ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘“ðŸ±â€ðŸ‘“ðŸ˜ºðŸ™€ðŸ˜¼ðŸ˜¿ðŸ˜ºðŸ±â€ðŸ‘“ðŸ˜¸ðŸ±â€ðŸ‘¤ðŸ˜¿ðŸ±â€ðŸ‘¤ðŸ˜¹ðŸ±â€ðŸ‘“ðŸ˜ºðŸ™€ðŸ˜»ðŸ±â€ðŸ‘¤ðŸ˜¸ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¿ðŸ˜¿ðŸ™€ðŸ˜¸ðŸ±â€ðŸðŸ˜¾ðŸ˜¿ðŸˆðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¿ðŸ˜¾ðŸ˜¿ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘“ðŸˆðŸ˜¾ðŸˆðŸ˜¿ðŸ±â€ðŸ’»ðŸ±â€ðŸ’»ðŸ˜¸ðŸ™€ðŸ˜¸ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¿ðŸ±â€ðŸ‘“ðŸ±â€ðŸ‘¤ðŸ˜ºðŸ±â€ðŸ‘“ðŸ˜ºðŸ™€ðŸ™€ðŸ™€ðŸ±ðŸ±â€ðŸ‘“ðŸ˜¹ðŸ±â€ðŸ‘¤ðŸ˜¸ðŸ™€ðŸ™€ðŸ±â€ðŸ‘“ðŸ˜¹ðŸ±â€ðŸ‘¤ðŸ˜¼ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ’»ðŸ±â€ðŸ‘“ðŸ±ðŸ™€ðŸ±ðŸ±â€ðŸ‘¤ðŸ˜¹ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¿ðŸ±â€ðŸðŸ˜¾ðŸ˜¹ðŸ±â€ðŸ‘“ðŸ˜¸ðŸ±â€ðŸ‘¤ðŸˆðŸ™€ðŸ±â€ðŸ‘“ðŸ±â€ðŸ‘“ðŸ˜ºðŸ±â€ðŸ‘¤ðŸ˜½ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¿ðŸ±â€ðŸš€ðŸ˜¾ðŸ±ðŸ±â€ðŸ‘“ðŸ˜ºðŸ˜¾ðŸ±â€ðŸðŸ™€ðŸ±â€ðŸ‘“ðŸ±â€ðŸ‘“ðŸ˜¸ðŸ™€ðŸ±â€ðŸ’»ðŸ˜¾ðŸ˜½ðŸ±â€ðŸ‘“ðŸ˜¸ðŸ±â€ðŸ‘¤ðŸ±â€ðŸ‘“ðŸ±â€ðŸ‘¤ðŸ™€ðŸ±â€ðŸ‘“ðŸ˜¹ðŸ˜¿ðŸ˜¼ðŸ˜¾ðŸ˜»ðŸ±â€ðŸ‘“ðŸ˜¹ðŸ˜¿ðŸ™€ðŸ±â€ðŸ‘¤ðŸ˜»"

def decode_emojis(emojis):
    pos = 0
    out = ""

    while pos < len(emojis):
        for num, ch in cs_inv.items():
            if len(ch) == 1:
                if emojis[pos] == ch:
                    out += num
                    pos += 1
                    break
            else:
                if emojis[pos:pos+3] == ch:
                    out += num
                    pos += 3
                    break
        
    return bytes.fromhex(out).decode("utf-8")

out_ct = decode_emojis(example_out)
flag_ct = decode_emojis(flag_out)

key = [ord(b) - ord(a) for a, b in zip(example_input, out_ct)]
flag = [chr(ord(b) - k) for k, b in zip(key, flag_ct)]

print("".join(flag))